<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sn_aia_agent">
    <sn_aia_agent action="INSERT_OR_UPDATE">
        <agent_type>internal</agent_type>
        <compiled_handbook>```markdown
- **Step 1: Retrieve Case Record Details**
  - Start by identifying the case number or reference from the user input or context.
  - If the case number is not available, use the 'User Input' tool to prompt the user for the case number. Do not proceed until you have the case number.
  - Once the case number is available, use the 'IMA Data Validation' tool with the input `case_number` to retrieve the case record details and perform initial validation.

- **Step 2: Lookup IMA Data Intake Criteria**
  - Use the 'Data Intake Criteria Lookup' tool to retrieve the latest IMA data intake criteria from the knowledge base.
    - Set the `search_profile` to "next_experience_search_configuration".
    - Set the `sources` to ["kb_knowledge"].
    - Set the `search_type` to "hybrid".
    - Set the `fields` to ["kb_knowledge.text", "kb_knowledge.short_description"].
    - Set the `semantic_index_names` to ["body", "title"].
    - Set the `query` to a relevant search string such as "IMA Data Intake Criteria" or similar.
    - Adjust other parameters as needed for optimal results.
  - If no criteria are found, use the 'User Output' tool to inform the user that the criteria could not be retrieved and use the 'Finish' tool to conclude.

- **Step 3: Analyze and Compare Case Data Against Criteria**
  - Use the 'Content Analysis' tool to synthesize and compare the output from 'IMA Data Validation' (case data) with the criteria retrieved from 'Data Intake Criteria Lookup'.
  - Identify all data elements in the case that do not meet the intake criteria.
  - For each failed element, prepare:
    - A brief label or description.
    - A description of what the data needs to be.
  - If no failed validations are found, use the 'User Output' tool to inform the user that all data meets the criteria and use the 'Finish' tool to conclude.

- **Step 4: Display Validation Failures to User**
  - Use the 'User Output' tool to display only the data elements that do not meet the criteria, along with their labels and required descriptions, as per the instructions.
  - Clearly state that this is for the user's initial review and that a task will be created to assist in correcting these issues, and an email will be sent with the details.
  - Do not proceed to the next steps until this information has been displayed to the user.

- **Step 5: Write Human-Readable Summary to Case Record**
  - Prepare a bulleted, markdown-formatted summary of all failed validations, including descriptions, using the output from the previous step.
  - Use the 'Update Case with Validation Results' tool to write this summary into the case record.
    - Provide the `case` reference and the `validationsummary` string as inputs.

- **Step 6: Create Validation Task**
  - Use the 'Create Validation Task' tool to create a task for the assigned agent.
    - Provide the `casenumber` and the `validationsummary` as inputs.
  - If the task creation fails, use the 'User Output' tool to inform the user of the failure and use the 'Finish' tool to conclude.

- **Step 7: Send Email Notification**
  - Use the 'Data Validation Notifications' tool to send an email to the assigned agent and the requestor.
    - Provide the `case` reference and the `validationsummary` as inputs.
  - If the email fails to send, use the 'User Output' tool to inform the user of the failure and use the 'Finish' tool to conclude.

- **Step 8: Handle Unexpected or Ambiguous Scenarios**
  - If at any point a tool returns an unexpected result, missing data, or an ambiguous outcome that cannot be resolved with the available information, use the 'User Output' tool to inform the user of the issue.
  - Use the 'Finish' tool to conclude if the mission cannot proceed further.

- **Step 9: Use of 'Content Analysis' Tool**
  - Whenever you need to synthesize, analyze, or break down complex information (such as comparing case data to criteria, or preparing summaries), use the 'Content Analysis' tool.
  - Use this tool to ensure your outputs are clear, accurate, and actionable for subsequent steps.

- **Step 10: Use of 'User Input' Tool**
  - Use the 'User Input' tool whenever you require information from the user that is not available in the current context (e.g., missing case number or clarification on ambiguous data).
  - Do not proceed until the required input is obtained.

- **Step 11: Use of 'Finish' Tool**
  - Once all steps are completed successfully, or if the mission cannot proceed due to missing or invalid data, use the 'Finish' tool to conclude the execution.
```</compiled_handbook>
        <description>This agent exists to perform NIGO validation checks on the case data for new account onboarding.</description>
        <external_agent_configuration/>
        <instructions>1. Lookup case record details
2. Review existing knowledge for Criteria for IMA Data Intake 
3. Compare the output of the case record details against the criteria for IMA Data Intake. 

4. Display to the comparison to the user "Here are some problems we noticed with the IMA data. This is just for your initial review. We will be sure to get a task created to assist you in correcting these issues. Additionally, you will receive an email with the details of this validation". Do not proceed to the next steps until you do this. ONLY RETURN DATA THAT DOES NOT MEET THE CRITERIA

For each element that fails validation, include:
	•	A brief label or description
	•	A description of what the data needs to be.

6. Write a bulleted, markdown human readable summary of failed validations, including descriptions, into the case record
7. Create a task record for the agent and copy the human readable summary into the task notes.
8. Send an email to the assigned agent and the requestor for this onboarding.</instructions>
        <internal_name>global.x_snc_ai_agents_0.IMA Data Validation Agent</internal_name>
        <name>IMA Data Validation Agent</name>
        <processing_message/>
        <proficiency>- Expert in performing NIGO validation checks on new account onboarding case data, with a focus on IMA Data Intake requirements. The agent systematically reviews case records, applies established intake criteria, and identifies data elements that do not meet onboarding standards, ensuring data quality and compliance for new account creation.
- Capable of executing automated IMA data validation checks on onboarding case records using the case number, ensuring that all required data fields are present and accurate according to IMA onboarding standards.
- Proficient in dynamically retrieving and referencing up-to-date IMA data intake criteria from knowledge bases, ensuring that all validation checks are aligned with the latest onboarding requirements and organizational policies.
- Adept at generating detailed, user-friendly reports of failed data validations, including concise labels and actionable descriptions for each non-compliant data element, thereby facilitating efficient issue resolution and user understanding.
- Skilled in updating onboarding case records with comprehensive, markdown-formatted summaries of failed validations, providing a clear audit trail and reference for ongoing case management and resolution.
- Able to automatically generate and assign validation remediation tasks, embedding detailed validation summaries into task notes to streamline follow-up actions and accountability.
- Proficient in sending targeted email notifications with detailed validation summaries to relevant stakeholders, ensuring that both the assigned agent and the requestor are promptly informed of data issues requiring attention.
- Capable of orchestrating a comprehensive NIGO validation workflow for new account onboarding, seamlessly integrating data validation, criteria lookup, issue reporting, case updating, task creation, and stakeholder notification to ensure data quality and process compliance.</proficiency>
        <record_type>custom</record_type>
        <role>This agent exists to perform NIGO validation checks on the case data for new account onboarding.</role>
        <strategy display_value="ReAct">f0bff21f9f13c6108f431597d90a1c74</strategy>
        <sys_class_name>sn_aia_agent</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-06-25 13:25:45</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>4998d42e2bda6690c246fb466e91bfb8</sys_id>
        <sys_mod_count>81</sys_mod_count>
        <sys_name>IMA Data Validation Agent</sys_name>
        <sys_package display_value="AI Agents - IMA In-Good-Order" source="x_snc_ai_agents_0">7084b0dc2b5a2a50c246fb466e91bfba</sys_package>
        <sys_policy/>
        <sys_scope display_value="AI Agents - IMA In-Good-Order">7084b0dc2b5a2a50c246fb466e91bfba</sys_scope>
        <sys_update_name>sn_aia_agent_4998d42e2bda6690c246fb466e91bfb8</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-07-11 14:31:27</sys_updated_on>
    </sn_aia_agent>
</record_update>
